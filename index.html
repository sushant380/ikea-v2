<!DOCTYPE html>
<html lang="en">
	<head>
		<title>my test</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				margin: 0px;
				background-color: #FFFFFF;
				overflow: hidden;
			}
			
			div.floating {
				color : #ffffff;
				background : #000000;
				opacity : 0.8;
				width : 80%;
				height : 80%;
				position : absolute;
				left : 10%;
				top : 10%;
				border : 1px solid #555555;
				padding : 10px;
				display : none;
				overflow : auto;
				z-index: 100;
			}
			.radio-thumbnail > input {
  display: none;
}

.radio-thumbnail > :checked + .thumbnail {
  border-color: #66afe9;
  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, .6);
}

.radio-thumbnail > :disabled + .thumbnail {
  opacity: .5;
}
	.icon-fullscreen {
		background-image:'img/fullscreen.png';
 		background-position: center center;
	}
		</style>
	
	</head>
	<body>
	<script type="text/javascript" src="js/jquery-1.12.4.min.js"></script>
 <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="css/bootstrap-select.min.css">
     <script src="js/bootstrap.min.js"></script>
     <script src="js/bootstrap-select.js"></script>
<link rel="stylesheet" type="text/css" href="js/eazyWizard.css">
			<script src="js/eazyWizard.js"></script>	
	<link rel="stylesheet" type="text/css" href="js/contextMenu.css">
		<!-- THREE related JS -->
		<script src="js/three.js"></script>		
		<script src="js/csg/ThreeCSG.js"></script> 
		<script src="js/controls/OrbitControls.js"></script>
		<script src="itemInteraction.js"></script>
		<script src="js/Detector.js"></script> <!-- webgl detector -->
		
		<!-- cardboard -->
		<script src="js/effects/StereoEffect.js"></script> 
		<script src="js/controls/DeviceOrientationControls.js"></script>
		<!-- cardboard -->
		
		<!-- Vive -->
		<script src="js/controls/VRControls_mod.js"></script>
		<script src="js/effects/VREffect.js"></script>
		<script src="js/vr/ViveController.js"></script>
		<script src="js/vr/WebVR.js"></script>		
		<script src="js/loaders/OBJLoader.js"></script> 
		<script src="js/loaders/MTLLoader.js"></script> 
		<script src="js/vr/vivecontrollerInteraction.js"></script> 
		<!-- Vive -->

		<!-- Custom OBJ export --><!-- modified -->		
		<script src="js/ObjExporter.js"></script> 
		<script src="js/jszip/jszip.min.js"></script>
		
		<!-- other open source -->
		<script src="js/graham_scan.min.js"></script> <!-- only needed for RPD data -->
		<script src="js/detect.min.js"></script>
		<script src="js/GeometryUtils.js"></script>
		<script src="js/jquery.steps.js"></script>
		
		<!-- custom parts -->
		<script src="rpd.js"></script> <!-- test RPD var -->
		<script src="commonHelpers.js"></script> 
		
		<script src="defaultWHDs.js"></script>
		<script src="parseRPD.js"></script> 
		
		<script src="materialProxy.js"></script>
		<script src="roomObj.js"></script> 
		<script src="itemObj.js"></script> 
		<script src="RoomItem.js"></script> 

		
		<script src="exporterHelper.js"></script> 
		<script src="RPDManager.js"></script> 
		<!-- skyBox -->
		<script src="skyBox.js"></script> 

		<script src="scene.js"></script> 
		<script src="js/Tween.js"></script> 
		<script src="js/contextMenu.js"></script> 
		<link rel="stylesheet" type="text/css" href="js/bootstrap-colorpicker.min.css">
		<script src="js/bootstrap-colorpicker.min.js"></script> 
		<script src="js/SimplifyModifier.js"></script> 
		
		
<!--		<div style="position: absolute; top: 10px; width: 10%; text-align: left; ">
			RPD: <br><textarea id="rpd" value=""></textarea><br>
			<a href="#" onclick="setRPD();"> Update Room</a>

			<!--<a href="#" onclick="exportToJSON();"> Export Scene to JSON</a>
				<br>	 	 

		</div>  -->
		<script>

		var RPDMgmt=undefined;
		/** start exporter test **/
(function() {		
		if ( WEBVR.isAvailable() === false ) {

			//	document.body.appendChild( WEBVR.getMessage() );

			}

		init(); // start scene
		
		RPDMgmt = new RPDManager()

		RPDMgmt.setRPDBox()
		

		//set default RPD


		
})();		
		</script>
	<div id="colorPanel" style="display:hidden;"></div>
	<div class="context-menu-one box menu-1"></div>
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Customize WorkTop</h4>
                </div>
                <div class="modal-body wizard-content">
                    
                    <div class="wizard-step">
                     
                       <div class="container-fluid">
                       	 <fieldset>
                       	 <legend>Acrylic</legend>
						  <div class="row texture-group">
						    <div class="col-xs-2">
						      <label class="text-center radio-thumbnail">
						          <input type="radio" name="textures" checked value="1">
						          <span class="thumbnail">
						            <img src="img/1.jpg" class="img-responsive"/>
						            
						          </span>
						      </label>
						    </div>
						    <div class="col-xs-2">
						      <label class="text-center radio-thumbnail">
						        <input type="radio" name="textures" value="2">
						        <span class="thumbnail">
						          <img src="img/2.jpg" class="img-responsive"/>
						          
						        </span>
						      </label>
						    </div>
						    <div class="col-xs-2">
						      <label class="text-center radio-thumbnail">
						        <input type="radio" name="textures" value="3">
						        <div class="thumbnail">
						          <img src="img/3.jpg" class="img-responsive"/>
						          
						        </div>
						      </label>
						    </div>
						    <div class="col-xs-2">
						      <label class="text-center radio-thumbnail">
						        <input type="radio" name="textures" value="4">
						        <div class="thumbnail">
						          <img src="img/4.jpg" class="img-responsive"/>
						          
						        </div>
						      </label>
						    </div>
						    
						  </div>
						  </fieldset>
						   <fieldset>
                       			<legend>Ceramic</legend>
						  		<div class="row texture-group">
						  			<div class="col-xs-2">
						      <label class="text-center radio-thumbnail">
						          <input type="radio" name="textures" checked value="8">
						          <span class="thumbnail">
						            <img src="img/8.jpg" class="img-responsive"/>
						            
						          </span>
						      </label>
						    </div>
						    <div class="col-xs-2">
						      <label class="text-center radio-thumbnail">
						        <input type="radio" name="textures" value="9">
						        <span class="thumbnail">
						          <img src="img/9.jpg" class="img-responsive"/>
						          
						        </span>
						      </label>
						    </div>
						    <div class="col-xs-2">
						      <label class="text-center radio-thumbnail">
						        <input type="radio" name="textures" value="10">
						        <div class="thumbnail">
						          <img src="img/10.jpg" class="img-responsive"/>
						          
						        </div>
						      </label>
						    </div>
						    <div class="col-xs-2">
						      <label class="text-center radio-thumbnail">
						        <input type="radio" name="textures" value="11">
						        <div class="thumbnail">
						          <img src="img/11.jpg" class="img-responsive"/>
						          
						        </div>
						      </label>
						    </div>
						  		</div>
						  	</fieldset>
						  	 <fieldset>
                       			<legend>Wooden</legend>
						  		<div class="row texture-group">
						  			<div class="col-xs-2">
						      <label class="text-center radio-thumbnail">
						          <input type="radio" name="textures" checked value="12">
						          <span class="thumbnail">
						            <img src="img/12.jpg" class="img-responsive"/>
						            
						          </span>
						      </label>
						    </div>
						    <div class="col-xs-2">
						      <label class="text-center radio-thumbnail">
						        <input type="radio" name="textures" value="13">
						        <span class="thumbnail">
						          <img src="img/13.jpg" class="img-responsive"/>
						          
						        </span>
						      </label>
						    </div>
						   
						  		</div>
						  	</fieldset>
						</div>

                    </div>
                     <div class="wizard-step">
                     	 Finish<br>
                     </div>
                </div>
                <div class="modal-footer wizard-buttons">
                    <!-- The wizard button will be inserted here. -->
                </div>
            </div>
        </div>
    </div>

    <script>
        $(document).on("ready", function(){
           $("#myModal").wizard({
            	exit:'Exit',
            	back:'Back',
            	next:'Next',
            	finish:'Finish',
                onfinish:function(){
                  	var color=$('.texture-group input:radio:checked').val();
                  	var shape=$('.btn-group input:radio:checked').val()
                    drawShape("I",color);
                }
            });
             $('#colorPanel').colorpicker({
	            color: '#ffaa00',
	            container: true,
	            inline: true,

	        }).on('changeColor',function(a,b,c){
	        	var color=a.color;
	        	
	        	for(var n=0;n<myRoom.allWallMeshes.length;n++){
	        		myRoom.allWallMeshes[n].material.color.set(color.toHex());
	        	}
	        	for(var q=0;q<scene.children.length;q++){
	        		if(scene.children[q].name.indexOf('Obstacle')>-1){
	        			scene.children[q].material.color.set(color.toHex());
	        		}
	        	}
	        	render();
	        });
        });
    </script>
	</body>
</html>
